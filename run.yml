---

- hosts: all
  vars:
    compte: cedric
    basedir: "/home/{{ compte }}"
    module_lang: fr_FR.UTF-8
  roles:
    - { role: etc-init, tags: ['etc-init'] }
    - { role: ubuntu-cleanup, tags: ['ubuntu-cleanup' ] }
    - { role: apt-paquets, tags: ['apt-paquets'] }
    - { role: bash-init, tags: ['bash-init' ] }
    - { role: auth-init, tags: ['auth-init'] }
    - { role: apt-init }
    - { role: bash-completion }
    - { role: ssh-auth, tags: ['ssh-auth'] }
    - { role: cron-conf, tags: ['cron-conf'] }
    - { role: linux-security, tags: ['linux-security'] }

    - { role: svn-install }
    - { role: deploy-svn, vcssource: "svn+ssh://cedricg@resin.csoft.net/home/cedricg/cedric/outilsDev/ScriptsBash", vcsdestdir: "{{ basedir }}/bin", tags: ['deploy-svn'] }
    - { role: deploy-svn, vcssource: "svn+ssh://cedricg@resin.csoft.net/home/cedricg/cedric/outilsDev/envdev", vcsdestdir: "{{ basedir }}/www", tags: ['deploy-svn'] }

    - { role: git-install, tags: ['git-install'] }
    - { role: deploy-git, vcssource: "git@github.com:senseicoder/myscripts.git", vcsdestdir: "{{ basedir }}/bin/public" }
    - { role: deploy-git, vcssource: "git@github.com:Epiconcept-Paris/infra-notes.git", vcsdestdir: "{{ basedir }}/Sync/infra-notes", tags: ['encours'] }

    - { role: mercurial-install, tags: ['mercurial-install'] }

    - { role: sublimtext-install, tags: ['sublimtext-install'] }
    - { role: rambox-install, tags: ['rambox-install'] }
    - { role: syncthing-install, tags: ['syncthing-install'] }
    - { role: keepassx-install, tags: ['keepassx-install'] }
    - { role: kpcli-install, tags: ['kpcli-install'] }
    - { role: spotify-install, tags: ['spotify-install'] }
    - { role: mysql-shell-config, tags: ['mysql-shell-config'] }
    - { role: lamp-install, tags: ['lamp-install'] }
    - { role: docker-install, tags: ['docker-install'] }
    - { role: openfortissl-install, tags: ['openfortissl-install'] }

    - { role: etc-commit, tags: ['always'] }