---
# git 

- name: fichier de configuration git
  file: path={{ basedir_perso }}/.config/git/ state=directory owner={{ compte }} group={{ compte }}

- name: configuration git (ignore 1)
  lineinfile: dest={{ basedir_perso }}/.config/git/ignore line="**/*.sublime-workspace" owner={{ compte }} group={{ compte }} create=yes state=present

- name: configuration git (ignore 2)
  lineinfile: dest={{ basedir_perso }}/.config/git/ignore line="**/*.retry" owner={{ compte }} group={{ compte }} create=yes state=present

#https://help.github.com/articles/caching-your-github-password-in-git/
- shell: git config --global credential.helper 'cache --timeout=36000'
  become: yes
  become_user: "{{ compte }}"
  changed_when: false

- name: git configure
  command: git config --global push.default matching
  changed_when: false
